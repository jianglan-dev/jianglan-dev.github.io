[{"title":"从零开始－iOS微信自动抢红包（支持非越狱手机）","slug":null,"date":"2017-02-08T18:17:50.000Z","updated":null,"comments":null,"path":"2017/02/09/从零开始－iOS微信自动抢红包/","link":null,"permalink":null,"excerpt":null,"keywords":null,"text":"&#x8BF4;&#x5230;&#x524D;&#x9762;&#x7684;&#x6700;&#x8FD1;&#x63A5;&#x89E6;&#x4E86;&#x4E00;&#x70B9;&#x9006;&#x5411;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5728;&#x7F51;&#x4E0A;&#x770B;&#x5230;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x300A;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B9E;&#x73B0;iOS&#x5FAE;&#x4FE1;&#x81EA;&#x52A8;&#x62A2;&#x7EA2;&#x5305;(&#x975E;&#x8D8A;&#x72F1;)&#x300B;&#xFF0C;&#x4E8E;&#x662F;&#x6309;&#x7740;&#x6B65;&#x9AA4;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x628A;&#xFF0C;&#x4F46;&#x662F;&#x8FC7;&#x7A0B;&#x8EBA;&#x8FC7;&#x592A;&#x591A;&#x5751;&#xFF0C;&#x6240;&#x4EE5;&#x81EA;&#x5DF1;&#x91CD;&#x65B0;&#x6574;&#x7406;&#x4E0B;&#x5982;&#x4F55;&#x5B9E;&#x73B0;iOS&#x5FAE;&#x4FE1;&#x81EA;&#x52A8;&#x62A2;&#x7EA2;&#x5305;&#x529F;&#x80FD;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x76EE;&#x7684;&#x5728;&#x4E8E;&#x8BB0;&#x5F55;&#x9006;&#x5411;&#x5FAE;&#x4FE1;&#x7684;&#x4E00;&#x4E2A;&#x5927;&#x81F4;&#x6D41;&#x7A0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x6DF1;&#x5165;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x9006;&#x5411;&#x627E;&#x5230;&#x62A2;&#x7EA2;&#x5305;&#x76F8;&#x5173;&#x7684;&#x51FD;&#x6570;&#xFF08;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5927;&#x795E;&#x7684;&#x6210;&#x679C;&#xFF09;&#xFF0C;&#x53E6;&#x5916;&#x4E5F;&#x4EC5;&#x9650;&#x6280;&#x672F;&#x7814;&#x7A76;&#x548C;&#x4EA4;&#x6D41;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x6587;&#x4E2D;&#x622A;&#x56FE;&#x51FA;&#x73B0;&#x7684;IP&#x5730;&#x5740;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x4E0D;&#x540C;&#x5730;&#x65B9;&#x5199;&#x5B8C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x4F46;&#x90FD;&#x662F;&#x6307;iPhone&#x7684;IP &#x51C6;&#x5907;&#x5DE5;&#x4F5C; &#x8D8A;&#x72F1;&#x624B;&#x673A;&#x4E00;&#x53F0;&#xFF08;&#x6211;&#x7684;&#x662F;iPhone 5s&#xFF0C;9.1&#x7CFB;&#x7EDF;&#xFF09; iTools &#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;ReverseWeChat&#xFF08;&#x540D;&#x5B57;&#x968F;&#x610F;&#xFF09;&#xFF0C;&#x540E;&#x7EED;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x90FD;&#x653E;&#x91CC;&#x9762;&#xFF0C;&#x4FBF;&#x4E8E;&#x7BA1;&#x7406; &#x83B7;&#x53D6;&#x5FAE;&#x4FE1;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x548C;Documents&#x8DEF;&#x5F84; &#x8D8A;&#x72F1;iPhone&#x4E0A;&#x4F7F;&#x7528;Cydia&#x5B89;&#x88C5;OpenSSH&#xFF08;&#x9ED8;&#x8BA4;&#x5DF2;&#x5B89;&#x88C5;&#xFF09;&#x3001;cycript&#xFF08;&#x53EF;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x548C;&#x5E94;&#x7528;&#x4EA4;&#x4E92;,&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x67E5;&#x770B;&#x548C;&#x4FEE;&#x6539;&#x5E94;&#x7528;&#xFF09;&#xFF1B; &#x8FDB;&#x5165;Mac&#x7EC8;&#x7AEF;&#x4F7F;&#x7528;ssh&#x547D;&#x4EE4;&#x8FDB;&#x5165;&#x624B;&#x673A;&#xFF08;&#x786E;&#x4FDD;Mac&#x4E0E;iPhone&#x5904;&#x4E8E;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x4E3A;alpine&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; iPhone&#x4E0A;&#x53EA;&#x5F00;&#x542F;&#x5FAE;&#x4FE1;&#xFF0C;&#x5176;&#x5B83;App&#x5168;&#x90E8;&#x5173;&#x95ED;&#xFF0C;&#x7EC8;&#x7AEF;&#x4F7F;&#x7528;ps&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x60C5;&#x51B5;&#xFF08;&#x7EC8;&#x7AEF;&#x4E00;&#x5B9A;&#x8981;&#x62C9;&#x957F;&#xFF0C;&#x5426;&#x5219;&#x4FE1;&#x606F;&#x663E;&#x793A;&#x4E0D;&#x5168;&#xFF0C;&#x663E;&#x793A;&#x51FA;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x53EF;&#x5C06;&#x7EC8;&#x7AEF;&#x968F;&#x610F;&#x7F29;&#x653E;&#xFF0C;&#x4FE1;&#x606F;&#x4F1A;&#x81EA;&#x52A8;&#x6362;&#x884C;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x7EC8;&#x7AEF;&#x7684;bug&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF08;&#x622A;&#x56FE;&#xFF09;&#xFF1A;&#x641C;&#x7D22;&#x201D;/var/mobile/&#x201C;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x53EA;&#x4F1A;&#x6709;&#x4E00;&#x6761;&#x7ED3;&#x679C;&#xFF0C;&#x5373;&#x5FAE;&#x4FE1;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x8BB0;&#x4E0B;&#x8BE5;&#x8DEF;&#x5F84;&#xFF1B; &#x4F7F;&#x7528;cycript&#x8FDB;&#x5165;&#x5FAE;&#x4FE1;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x67E5;&#x770B;Documents&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x8BB0;&#x4E0B;&#x8BE5;&#x8DEF;&#x5F84;&#x3002; &#x798F;&#x5229;&#xFF1A;&#x901A;&#x8FC7;USB&#x4F7F;&#x7528;ssh&#x8FDE;&#x63A5;iPhone&#x4EE5;&#x4E0A;&#x662F;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;iPhone&#xFF0C;&#x4F46;&#x662F;&#x5076;&#x5C14;&#x7F51;&#x7EDC;&#x4E0D;&#x597D;&#x65F6;&#xFF0C;&#x5404;&#x79CD;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;USB&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#xFF0C;&#x901F;&#x5EA6;&#x6760;&#x6760;&#x7684;&#x3002; &#x5C06;iPhone&#x901A;&#x8FC7;USB&#x8FDE;&#x63A5;Mac&#xFF1B; &#x4E0B;&#x8F7D;usbmuxd 1.0.8&#x7248;&#x672C;&#xFF0C;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x8C8C;&#x4F3C;&#x4E0D;&#x652F;&#x6301;&#x6B64;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#xFF1B; &#x5728;Mac&#x4E0A;&#x89E3;&#x538B;usbmuxd-1.0.8.tar.gz&#xFF0C;cd&#x5230;python-client&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF1B; &#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#xFF1A;python tcprelay.py -t 22:2222 &#x5C4F;&#x5E55;&#x663E;&#x793A;&#xFF1A;Forwarding local port 2222 to remote port 22&#xFF08;&#x6210;&#x529F;&#xFF09; &#x53E6;&#x8D77;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#xFF1A;ssh root@localhost -p 2222 &#x6210;&#x529F;&#x901A;&#x8FC7;USB&#x4F7F;&#x7528;ssh&#x8FDE;&#x63A5;&#x5230;iPhone&#xFF0C;&#x901F;&#x5EA6;&#x6BD4;Wi-Fi&#x5FEB;&#x591A;&#x4E86;&#xFF0C;&#x6B64;&#x65F6;&#x65AD;&#x5F00;Wi-Fi&#x4E5F;&#x80FD;&#x4F7F;&#x7528;&#xFF08;&#x4FDD;&#x6301;iPhone&#x7684;USB&#x8FDE;&#x63A5;&#xFF09; &#x89E3;&#x5BC6;&#x5FAE;&#x4FE1;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF08;&#x8131;&#x58F3;&#xFF09;&#x7531;&#x4E8E;&#x4ECE;App Store&#x4E0B;&#x8F7D;&#x7684;App&#x90FD;&#x662F;&#x7ECF;&#x8FC7;&#x82F9;&#x679C;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5BF9;&#x4E0B;&#x8F7D;&#x7684;App&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#xFF0C;&#x5373;&#x8131;&#x58F3;&#x3002; &#x4E0B;&#x8F7D;&#x8131;&#x58F3;&#x5DE5;&#x5177;dumpdecrypted&#xFF0C;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x7EC8;&#x7AEF;&#x8FDB;&#x5165;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#x5E76;&#x4F7F;&#x7528;make&#x547D;&#x4EE4;&#x7F16;&#x8BD1;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x7F16;&#x8BD1;&#x4E4B;&#x540E;&#x4F1A;&#x751F;&#x6210;dumpdecrypted.dylib&#xFF0C;&#x5C06;&#x8BE5;&#x6587;&#x4EF6;&#x901A;&#x8FC7;scp&#x547D;&#x4EE4;&#x62F7;&#x8D1D;&#x5230;&#x5FAE;&#x4FE1;&#x7684;Documents&#x4E0B;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x901A;&#x8FC7;ssh&#x8FDB;&#x5165;iPhone&#xFF0C;&#x5E76;cd&#x5230;Documents&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;dumpdecrypted.dylib&#x5F00;&#x59CB;&#x7838;&#x58F3;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x7838;&#x58F3;&#x540E;&#xFF0C;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF08;&#x5373;Documents&#x4E0B;&#xFF09;&#x751F;&#x6210;&#x5DF2;&#x7ECF;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x5FAE;&#x4FE1;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;WeChat.decrypted&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x53E6;&#x542F;&#x7EC8;&#x7AEF;&#x7A97;&#x53E3;&#xFF0C;&#x5E76;cd&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;scp&#x547D;&#x4EE4;&#x5C06;Documents&#x4E0B;&#x7684;WeChat.decrypted&#x62F7;&#x8D1D;&#x5230;&#x8BE5;&#x76EE;&#x5F55;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; dump&#x5FAE;&#x4FE1;&#x5934;&#x6587;&#x4EF6; &#x4ECE;Github&#x4E0B;&#x8F7D;class-dump&#x6E90;&#x7801;&#xFF0C;&#x7F16;&#x8BD1;&#x540E;&#x751F;&#x6210;class-dump&#x5DE5;&#x5177;&#xFF0C;&#x5E76;&#x62F7;&#x8D1D;&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#xFF1B; &#x4F7F;&#x7528;class-dump&#x5DE5;&#x5177;dump&#x51FA;&#x5934;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x5FAE;&#x4FE1;&#x6240;&#x6709;&#x5934;&#x6587;&#x4EF6;&#x5C31;&#x88AB;dump&#x5728;ReverseWeChat&#x76EE;&#x5F55;&#x4E0B;&#x7684;headers&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x521B;&#x5EFA;&#x52A8;&#x6001;&#x5E93;dylib&#xFF0C;&#x7F16;&#x5199;hook&#x4EE3;&#x7801;&#x81EA;&#x52A8;&#x62A2;&#x7EA2;&#x5305;&#x7684;&#x539F;&#x7406;&#x662F;&#x901A;&#x8FC7;&#x521B;&#x5EFA;dylib&#xFF0C;&#x5728;dylib&#x4E2D;hook&#x5FAE;&#x4FE1;&#x7684;&#x65B0;&#x6D88;&#x606F;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x7EA2;&#x5305;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x662F;&#xFF0C;&#x5C31;&#x8C03;&#x7528;&#x5FAE;&#x4FE1;&#x7684;&#x6253;&#x5F00;&#x7EA2;&#x5305;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x8FBE;&#x5230;&#x81EA;&#x52A8;&#x62A2;&#x7EA2;&#x5305;&#x7684;&#x76EE;&#x7684;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x76F4;&#x63A5;&#x7ED9;&#x51FA;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#xFF1A; CMessageMgr.h&#x4E2D;&#x7684; -(void)AsyncOnAddMsg:(id)arg1 MsgWrap:(id)arg2; WCRedEnvelopesLogicMgr.h&#x4E2D;&#x7684; -(void)OpenRedEnvelopesRequest:(id)arg1; &#x5B89;&#x88C5;iOSOpenDev&#x56E0;&#x4E3A;Xcode&#x9ED8;&#x8BA4;&#x4E0D;&#x652F;&#x6301;&#x751F;&#x6210;dylib&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;iOSOpenDev&#xFF0C;&#x5982;&#x679C;&#x5B89;&#x88C5;&#x5931;&#x8D25;&#x8BF7;&#x53C2;&#x8003;&#x8FD9;&#x91CC;&#xFF0C;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x5373;&#x53EF;&#x9009;&#x62E9;&#x521B;&#x5EFA;dylib&#x5DE5;&#x7A0B;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x65B0;&#x5EFA;dylib&#xFF0C;&#x7F16;&#x5199;hook&#x4EE3;&#x7801;&#x9009;&#x62E9;Cocoa Touch Library&#xFF0C;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;dylib&#x5DE5;&#x7A0B;&#xFF0C;&#x547D;&#x540D;&#x4E3A;autoGetRedEnv&#x3002;&#x5220;&#x9664;autoGetRedEnv.h&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;autoGetRedEnv.m&#x4E3A;autoGetRedEnv.mm&#xFF0C;&#x7136;&#x540E;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x52A0;&#x5165;CaptainHook.h&#x3002; &#x56E0;&#x4E3A;&#x5FAE;&#x4FE1;&#x4E0D;&#x4F1A;&#x4E3B;&#x52A8;&#x6765;&#x52A0;&#x8F7D;&#x6211;&#x4EEC;&#x7684;hook&#x4EE3;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;hook&#x903B;&#x8F91;&#x5199;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 12345__attribute__((constructor)) static void entry(){ CHLoadLateClass(CMessageMgr); CHClassHook(2, CMessageMgr, AsyncOnAddMsg, MsgWrap);} &#x7136;&#x540E;hook&#x5FAE;&#x4FE1;-(void)AsyncOnAddMsg:(id)arg1 MsgWrap:(id)arg2&#x65B9;&#x6CD5;&#xFF0C;&#x5927;&#x81F4;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#xFF1A; 123456789101112//&#x58F0;&#x660E;CMessageMgr&#x7C7B;CHDeclareClass(CMessageMgr);CHMethod(2, void, CMessageMgr, AsyncOnAddMsg, id, arg1, MsgWrap, id, arg2){ //&#x8C03;&#x7528;&#x539F;&#x6765;&#x7684;AsyncOnAddMsg:MsgWrap:&#x65B9;&#x6CD5; CHSuper(2, CMessageMgr, AsyncOnAddMsg, arg1, MsgWrap, arg2); //&#x5177;&#x4F53;&#x62A2;&#x7EA2;&#x5305;&#x903B;&#x8F91; //... //&#x8C03;&#x7528;&#x539F;&#x751F;&#x7684;&#x6253;&#x5F00;&#x7EA2;&#x5305;&#x7684;&#x65B9;&#x6CD5; //&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x4E3A;&#x7ED9;objc_msgSend&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x58F0;&#x660E;&#x4E3A;NSMutableDictionary,&#x4E0D;&#x7136;&#x8C03;&#x7528;objc_msgSend&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x6253;&#x5F00;&#x7EA2;&#x5305;&#x7684;&#x65B9;&#x6CD5; ((void (*)(id, SEL, NSMutableDictionary*))objc_msgSend)(logicMgr, @selector(OpenRedEnvelopesRequest:), params);} &#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6765;&#x81EA;&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x4E0D;&#x8FC7;&#x529F;&#x80FD;&#x4E0D;&#x592A;&#x597D;&#x4F7F;&#xFF0C;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x6211;&#x8FDB;&#x884C;&#x4E86;&#x6539;&#x9020;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x63D2;&#x4EF6;&#x754C;&#x9762;&#x5316;&#xFF0C;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x89C1;&#x6211;&#x7684;Github&#x5730;&#x5740;&#x3002; &#x5C06;dylib&#x6CE8;&#x5165;&#x5230;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x8981;&#x60F3;&#x5FAE;&#x4FE1;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x540E;&#xFF0C;&#x80FD;&#x6267;&#x884C;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5FAE;&#x4FE1;&#x52A0;&#x5165;&#x6211;&#x4EEC;&#x7684;dylib&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7528;&#x5230;&#x4E00;&#x4E2A;dylib&#x6CE8;&#x5165;&#x795E;&#x5668;:yololib&#xFF0C;&#x4ECE;&#x7F51;&#x4E0A;&#x4E0B;&#x8F7D;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x7F16;&#x8BD1;&#x540E;&#x5F97;&#x5230;yololib&#xFF08;&#x6211;&#x7684;Github&#x7684;autoGetRedEnv&#x5DE5;&#x7A0B;Tools&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x6709;&#x7F16;&#x8BD1;&#x540E;&#x7684;yololib&#xFF0C;&#x81EA;&#x53D6;&#xFF09;&#x3002;&#x4E0B;&#x9762;&#x4E3A;&#x6CE8;&#x5165;&#x6B65;&#x9AA4;&#xFF1A; &#x5C06;&#x4E0A;&#x9762;&#x5F97;&#x5230;&#x7684;yololib&#x62F7;&#x8D1D;&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#x4E2D;&#xFF1B; &#x5C06;autoGetRedEnv&#x5DE5;&#x7A0B;&#x7F16;&#x8BD1;&#x5F97;&#x5230;&#x7684;libautoGetRedEnv.dylib&#x62F7;&#x8D1D;&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x6B64;&#x65F6;&#x8BE5;&#x76EE;&#x5F55;&#x5DF2;&#x6709;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;WeChat.decrypted&#xFF09;&#xFF1B; &#x6267;&#x884C;&#x547D;&#x4EE4;./yololib &#x76EE;&#x6807;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6; &#x9700;&#x6CE8;&#x5165;&#x7684;dylib&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x4F7F;&#x7528;iTunes&#x4E0B;&#x8F7D;&#x5FAE;&#x4FE1;ipa&#x5305;&#xFF08;&#x76EE;&#x524D;&#x6700;&#x65B0;&#x7248;&#x4E3A;&#xFF1A;&#x5FAE;&#x4FE1; 6.5.4.ipa&#xFF09;&#xFF1B; &#x5C06;&#x5FAE;&#x4FE1; 6.5.4.ipa&#x4FEE;&#x6539;&#x4E3A;&#x5FAE;&#x4FE1; 6.5.4.zip&#xFF0C;&#x5E76;&#x89E3;&#x538B;&#xFF1B; &#x627E;&#x5230;Payload/WeChat&#xFF08;&#x5373;WeChat.app&#xFF0C;&#x540E;&#x7F00;&#x53EF;&#x80FD;&#x88AB;&#x9690;&#x85CF;&#xFF09;&#xFF0C;&#x5C06;WeChat.app&#x62F7;&#x8D1D;&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#x4E2D;&#xFF0C; &#x5C06;libautoGetRedEnv.dylib&#x548C;&#x5DF2;&#x7ECF;&#x6CE8;&#x5165;dylib&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;WeChat.decrypted&#x62F7;&#x8D1D;&#x5230;WeChat.app&#xFF0C;&#x5E76;&#x5C06;WeChat.decrypted&#x6539;&#x540D;&#x4E3A;WeChat(&#x8986;&#x76D6;&#x539F;&#x6765;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;WeChat)&#x3002; &#x91CD;&#x7B7E;&#x540D; &#x767B;&#x9646;Apple&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x5E10;&#x53F7;&#x6216;&#x4F01;&#x4E1A;&#x5E10;&#x53F7;&#xFF0C;&#x65B0;&#x5EFA;App ID&#xFF08;&#x5982;com.tencent.xin.jl&#xFF09;&#x3001;&#x5F00;&#x53D1;&#x8BC1;&#x4E66;&#xFF08;&#x53D1;&#x5E03;&#x8BC1;&#x4E66;&#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x521B;&#x5EFA;&#x540E;&#x5B89;&#x88C5;&#x5230;&#x672C;&#x5730;&#xFF09;&#xFF0C;&#x5C06;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x63D2;&#x4EF6;&#x7248;&#x5FAE;&#x4FE1;&#x7684;iPhone UDID&#x52A0;&#x5165;&#x5E10;&#x53F7;&#x4E2D;&#xFF0C;&#x65B0;&#x5EFA;Provisioning Profiles&#xFF08;&#x9009;&#x62E9;&#x521A;&#x65B0;&#x5EFA;&#x7684;App ID&#x3001;&#x8BC1;&#x4E66;&#x3001;&#x8BBE;&#x5907;&#xFF09;&#xFF0C;&#x4E0B;&#x8F7D;&#x540E;&#x91CD;&#x65B0;&#x547D;&#x540D;&#x4E3A;embedded.mobileprovision&#xFF0C;&#x5E76;&#x62F7;&#x8D1D;&#x5230;WeChat.app&#x4E2D;&#xFF1B; &#x5728;ReverseWeChat&#x76EE;&#x5F55;&#x4E2D;&#x65B0;&#x5EFA;Entitlements.plist&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; 12345678910111213141516&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;&lt;plist version=&quot;1.0&quot;&gt;&lt;dict&gt; &lt;key&gt;application-identifier&lt;/key&gt; &lt;string&gt;DE6N26DER6.com.tencent.xin.jl&lt;/string&gt; &lt;key&gt;com.apple.developer.team-identifier&lt;/key&gt; &lt;string&gt;DE6N26DER6&lt;/string&gt; &lt;key&gt;get-task-allow&lt;/key&gt; &lt;true/&gt; &lt;key&gt;keychain-access-groups&lt;/key&gt; &lt;array&gt; &lt;string&gt;DE6N26DER6.com.tencent.xin.jl&lt;/string&gt; &lt;/array&gt;&lt;/dict&gt;&lt;/plist&gt; application-identifier&#xFF1A;APP&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x524D;&#x7F00;&#x4E3A;Team ID com.apple.developer.team-identifier&#xFF1A;Team ID&#xFF08;&#x53C2;&#x8003;&#x4E0B;&#x56FE;&#xFF09; keychain-access-groups&#xFF1A;&#x8BC1;&#x4E66;&#x7EC4;&#xFF0C;&#x586B;&#x4E00;&#x4E2A;&#x8BC1;&#x4E66;&#x540D;&#x79F0;&#x5373;&#x53EF;&#xFF08;&#x53C2;&#x8003;&#x4E0B;&#x56FE;&#xFF09; cd&#x5230;ReverseWeChat&#x76EE;&#x5F55;&#xFF0C;&#x5206;&#x522B;&#x7528;codesign&#x547D;&#x4EE4;&#x6765;&#x4E3A;&#x5FAE;&#x4FE1;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x7B7E;&#x540D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x6253;&#x5305;&#x5E76;&#x5B89;&#x88C5; &#x4ECD;&#x7136;&#x5728;ReverseWeChat&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;xcrun&#x8FDB;&#x884C;&#x6253;&#x5305;&#xFF0C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;xcrun -sdk iphoneos PackageApplication -v WeChat.app -o ~/WeChat.ipa&#x6267;&#x884C;&#x540E;&#xFF0C;&#x4F1A;&#x5728;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x91CD;&#x7B7E;&#x7684;&#x5B89;&#x88C5;&#x5305;WeChat.ipa&#xFF1B; &#x4F7F;&#x7528;itools&#x7B49;&#x5DE5;&#x5177;&#x5C06;ipa&#x5305;&#x5B89;&#x88C5;&#x5230;iPhone&#x4E0A;&#x5373;&#x53EF;&#x3002; &#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6211;Github&#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x7684;dylib&#xFF0C;&#x53EF;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x64CD;&#x4F5C;&#xFF1A; &#x8FDB;&#x5165;&#x81EA;&#x5DF1;&#x7684;&#x5FAE;&#x4FE1;&#x804A;&#x5929;&#x7A97;&#x53E3;&#xFF1B; &#x7ED9;&#x81EA;&#x5DF1;&#x53D1;&#x9001;&#x89E6;&#x53D1;&#x7EA2;&#x5305;&#x8BBE;&#x7F6E;&#x7684;&#x53E3;&#x4EE4;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x201C;&#x6CE2;&#x82E5;&#x6CE2;&#x7F57;&#x5BC6;&#x201D;&#xFF08;&#x4EE3;&#x7801;&#x4E2D;&#x53EF;&#x4FEE;&#x6539;&#xFF09;&#xFF1B; &#x5F00;&#x542F;&#x62A2;&#x7EA2;&#x5305;&#x63D2;&#x4EF6;&#x5F00;&#x5173;&#xFF1B; &#x5728;&#x7FA4;&#x91CC;&#x53D1;&#x4E00;&#x4E2A;&#x7EA2;&#x5305;&#x5373;&#x53EF;&#x81EA;&#x52A8;&#x62A2;&#x3002; &#x6548;&#x679C;&#x56FE; &#x5176;&#x5B83;&#x5907;&#x6CE8; &#x67E5;&#x770B;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x52A0;&#x5BC6;&#xFF1A;otool -l WeChat.app/WeChat | grep -B 2 crypt &#x67E5;&#x770B;&#x6240;&#x652F;&#x6301;&#x7684;&#x67B6;&#x6784;&#xFF1A;lipo -info xxx.dylib &#x53BB;&#x6389;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;arm64(&#x7528;&#x4E8E;&#x7834;armv7&#x7684;&#x58F3;&#x7B49;)&#xFF1A;lipo xxx -remove arm64 -output xxx.remove","raw":null,"content":null,"categories":null,"tags":[{"name":"逆向","slug":"逆向","permalink":"https://jianglan-dev.github.io/tags/逆向/"}]},{"title":"AutoLayout之Masonry的使用","slug":null,"date":"2016-06-15T15:26:37.000Z","updated":null,"comments":null,"path":"2016/06/15/AutoLayout之Masonry的使用/","link":null,"permalink":null,"excerpt":null,"keywords":null,"text":"AutoLayout&#x7B80;&#x4ECB;&#x542B;&#x4E49; AutoLayout&#x662F;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;&#x7EA6;&#x675F;&#x7684;&#xFF0C;&#x63CF;&#x8FF0;&#x6027;&#x7684;&#x5E03;&#x5C40;&#x7CFB;&#x7EDF;&#x3002;( Auto Layout is a Constraint-Based, Descriptive Layout System.) &#x4F7F;&#x7528;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x6765;&#x63CF;&#x8FF0;&#x5E03;&#x5C40;&#x3002;view&#x7684;frame&#x4F1A;&#x4F9D;&#x636E;&#x8FD9;&#x4E9B;&#x7EA6;&#x675F;&#x6765;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;(Describe the layout with constraints, and frames are calculated automatically.) &#x4E0E;&#x8BBE;&#x7F6E;frame&#x65B9;&#x5F0F;&#x76F8;&#x6BD4;&#x7684;&#x4F18;&#x70B9; &#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x65CB;&#x8F6C;&#x5C4F;&#x5E55;&#x4E0D;&#x7528;&#x518D;&#x505A;&#x989D;&#x5916;&#x7684;&#x5904;&#x7406; &#x66F4;&#x5BB9;&#x6613;&#x9002;&#x914D;&#x4E0D;&#x540C;&#x5C3A;&#x5BF8;&#x7684;&#x5C4F;&#x5E55; &#x4E0A;&#x624B;&#x540E;&#x5E03;&#x5C40;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x5BB9;&#x6613;&#xFF0C;&#x5E03;&#x5C40;&#x903B;&#x8F91;&#x66F4;&#x6E05;&#x6670; &#x7528;&#x6CD5;&#x5728;iOS6&#x4E4B;&#x524D;&#xFF0C;&#x5173;&#x4E8E;&#x5C4F;&#x5E55;&#x65CB;&#x8F6C;&#x7684;&#x9002;&#x914D;&#x548C;iPhone&#xFF0C;iPad&#x5C4F;&#x5E55;&#x7684;&#x81EA;&#x52A8;&#x9002;&#x914D;&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x7531;AutoresizingMask&#x6765;&#x5B8C;&#x6210;&#x7684;&#x3002;&#x4F46;&#x662F;&#x968F;&#x7740;&#x5927;&#x5BB6;&#x5BF9;iOS App&#x7684;&#x8981;&#x6C42;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#xFF0C;&#x4EE5;&#x53CA;&#x4ECA;&#x540E;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x591A;&#x79CD;&#x5C4F;&#x5E55;&#x548C;&#x5206;&#x8FA8;&#x7387;&#x7684;&#x8BBE;&#x5907;&#x6765;&#x8BF4;&#xFF0C;AutoresizingMask&#x663E;&#x5F97;&#x6709;&#x4E9B;&#x843D;&#x4F0D;&#x548C;&#x8FDF;&#x949D;&#x4E86;&#x3002; iOS6&#x4EE5;&#x540E;&#xFF0C;AutoLayout&#x51FA;&#x73B0;&#xFF0C;&#x5176;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x6240;&#x6709;&#x539F;&#x6765;AutoresizingMask&#x80FD;&#x5B8C;&#x6210;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x80FD;&#x591F;&#x80DC;&#x4EFB;&#x4E00;&#x4E9B;&#x539F;&#x6765;&#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x52A1;&#x3002; &#x4F7F;&#x7528;AutoLayout&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x7981;&#x7528;AutoresizingMask&#xFF1A;view.translatesAutoresizingMaskIntoConstraints = NO; AutoLayout&#x4E2D;&#x7EA6;&#x675F;&#x5BF9;&#x5E94;&#x7684;&#x7C7B;&#x4E3A; NSLayoutConstraint&#xFF0C;&#x4E00;&#x4E2A; NSLayoutConstraint &#x5B9E;&#x4F8B;&#x4EE3;&#x8868;&#x4E00;&#x6761;&#x7EA6;&#x675F;&#x3002; NSLayoutConstraint&#x6709;2&#x4E2A;&#x7C7B;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x7EA6;&#x675F;&#x5B9E;&#x4F8B;: 1&#x3001;&#x76F4;&#x767D;&#x5F0F;&#x65B9;&#x6CD5;+ (instancetype)constraintWithItem:(id)view1 attribute:(NSLayoutAttribute)attr1 relatedBy:(NSLayoutRelation)relation toItem:(id)view2 attribute:(NSLayoutAttribute)attr2 multiplier:(CGFloat)multiplier constant:(CGFloat)c; &#x4EE3;&#x8868;&#x7684;&#x542B;&#x4E49;&#x4E3A;&#xFF1A;view1.attr1 = view2.attr2 * multiplier + constant&#xFF0C;&#x591F;&#x76F4;&#x767D;&#x5427;&#xFF01; 2&#x3001;VFL&#x5F0F;&#x65B9;&#x6CD5;+ (NSArray *)constraintsWithVisualFormat:(NSString *)format options:(NSLayoutFormatOptions)opts metrics:(NSDictionary *)metrics views:(NSDictionary *)views; &#x8BE5;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x53EF;&#x89C6;&#x5316;&#x683C;&#x5F0F;&#x8BED;&#x8A00;(VFL)&#x5E03;&#x5C40;&#x3002; &#x5B9E;&#x4F8B;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x4F7F;&#x7528;&#x4EE5;&#x4E0A;2&#x79CD;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x5E03;&#x5C40;&#xFF1A;&#x5B50;view&#x5728;&#x7236;view&#x4E2D;&#xFF0C;&#x5176;&#x4E2D;&#x5B50;view&#x7684;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x8FB9;&#x7F18;&#x90FD;&#x79BB;&#x7236;view&#x7684;&#x8FB9;&#x7F18;50 point &#x76F4;&#x767D;&#x5F0F;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x76F4;&#x767D;&#x5F0F;&#x65B9;&#x6CD5;&#x5E03;&#x5C40;&#xFF0C;&#x4EE3;&#x7801;&#x5197;&#x957F;&#xFF0C;&#x4E0D;&#x6613;&#x7EF4;&#x62A4;&#x3002; self.view.backgroundColor = [UIColor blackColor]; UIView *superView = self.view; UIView *subView = [[UIView alloc] init]; subView.translatesAutoresizingMaskIntoConstraints = NO; subView.backgroundColor = [UIColor redColor]; [self.view addSubview:subView]; NSLayoutConstraint *topConstraint = [NSLayoutConstraint constraintWithItem:subView attribute:NSLayoutAttributeTop relatedBy:NSLayoutRelationEqual toItem:superView attribute:NSLayoutAttributeTop multiplier:1.0 constant:50]; NSLayoutConstraint *bottomConstraint = [NSLayoutConstraint constraintWithItem:subView attribute:NSLayoutAttributeBottom relatedBy:NSLayoutRelationEqual toItem:superView attribute:NSLayoutAttributeBottom multiplier:1.0 constant:-50]; NSLayoutConstraint *leftConstraint = [NSLayoutConstraint constraintWithItem:subView attribute:NSLayoutAttributeLeft relatedBy:NSLayoutRelationEqual toItem:superView attribute:NSLayoutAttributeLeft multiplier:1.0 constant:50]; NSLayoutConstraint *rightConstraint = [NSLayoutConstraint constraintWithItem:subView attribute:NSLayoutAttributeRight relatedBy:NSLayoutRelationEqual toItem:superView attribute:NSLayoutAttributeRight multiplier:1.0 constant:-50]; [superView addConstraints:@[topConstraint, bottomConstraint, leftConstraint, rightConstraint]]; VFL&#x5F0F;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;VFL&#x5F0F;&#x65B9;&#x6CD5;&#x5E03;&#x5C40;&#xFF0C;&#x91C7;&#x7528;ascll&#x5B57;&#x7B26;&#x63CF;&#x8FF0;&#x7EA6;&#x675F;&#xFF0C;&#x5404;&#x79CD;&#x5751;&#xFF0C;&#x4E14;&#x4E0D;&#x6613;&#x7406;&#x89E3;&#x3002; self.view.backgroundColor = [UIColor blackColor]; UIView *superView = self.view; UIView *subView = [[UIView alloc] init]; subView.translatesAutoresizingMaskIntoConstraints = NO; subView.backgroundColor = [UIColor redColor]; [self.view addSubview:subView]; NSDictionary *views = NSDictionaryOfVariableBindings(subView); NSArray *constraintsH = [NSLayoutConstraint constraintsWithVisualFormat:@&quot;H:|-50-[subView]-50-|&quot; options:0 metrics:nil views:views]; NSArray *constraintsV = [NSLayoutConstraint constraintsWithVisualFormat:@&quot;V:|-50-[subView]-50-|&quot; options:0 metrics:nil views:views]; [superView addConstraints:constraintsH]; [superView addConstraints:constraintsV]; &#x663E;&#x7136;&#xFF0C;&#x65E0;&#x8BBA;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x65B9;&#x6CD5;&#x6765;&#x7F16;&#x5199;&#x5E03;&#x5C40;&#x4EE3;&#x7801;&#x90FD;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x597D;&#x6D88;&#x606F;&#x662F;&#x6709;&#x5927;&#x91CF;&#x7684;&#x5F00;&#x6E90;&#x5E93;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x63D0;&#x9AD8;&#x7F16;&#x5199;&#x5E03;&#x5C40;&#x4EE3;&#x7801;&#x7684;&#x6548;&#x7387;&#x3002; &#x5F00;&#x6E90;&#x5E93;Masonry&#x5E38;&#x7528;&#x7684;&#x5F00;&#x6E90;&#x5E93; Masonry PureLayout(&#x524D;UIView-AutoLayout) FLKAutoLayout KeepLayout Masonry&#x7B80;&#x4ECB;Masonry&#x662F;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x5E03;&#x5C40;&#x6846;&#x67B6;&#xFF0C;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x63CF;&#x8FF0;&#x8BED;&#x6CD5;&#xFF0C;&#x91C7;&#x7528;&#x66F4;&#x4F18;&#x96C5;&#x7684;&#x94FE;&#x5F0F;&#x8BED;&#x6CD5;&#x5C01;&#x88C5;&#x81EA;&#x52A8;&#x5E03;&#x5C40;&#xFF0C;&#x7B80;&#x6D01;&#x660E;&#x4E86;&#x5E76;&#x5177;&#x6709;&#x9AD8;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;&#x800C;&#x4E14;&#x540C;&#x65F6;&#x652F;&#x6301; iOS &#x548C; Max OS X&#x3002;Masonry&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4EE3;&#x7801;&#x5199;iOS&#x6216;OS&#x754C;&#x9762;&#x7684;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x4EE3;&#x66FF;AutoLayout&#x3002;Masonry&#x7684;Swift&#x7248;&#x672C;&#x540D;&#x53EB;SnapKit&#xFF0C;&#x652F;&#x6301;iOS7&#xFF0C;OS X 10.9&#x4EE5;&#x4E0A;&#x3002; &#x5BF9;&#x4E8E;&#x4E0A;&#x6587;&#x4E2D;&#x7684;&#x5E03;&#x5C40;&#x6548;&#x679C;&#xFF0C;&#x4F7F;&#x7528;Masonry&#x5E03;&#x5C40;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;&#xFF08;&#x7B80;&#x6D01;&#x3001;&#x76F4;&#x89C2;&#xFF09; self.view.backgroundColor = [UIColor blackColor]; UIView *superView = self.view; UIView *subView = [[UIView alloc] init]; subView.translatesAutoresizingMaskIntoConstraints = NO; subView.backgroundColor = [UIColor redColor]; [self.view addSubview:subView]; [subView mas_makeConstraints:^(MASConstraintMaker *make) { make.edges.equalTo(superView).with.insets(UIEdgeInsetsMake(50, 50, 50, 50 ) ); }]; Masonry&#x7528;&#x6CD5;Masonry&#x5171;&#x4E09;&#x4E2A;&#x5E03;&#x5C40;&#x65B9;&#x6CD5;&#xFF1A; mas_makeConstraints&#xFF1B;&#x6DFB;&#x52A0;&#x7EA6;&#x675F; mas_updateConstaints&#xFF1B;&#x66F4;&#x65B0;&#x7EA6;&#x675F;&#xFF0C;&#x53EA;&#x66F4;&#x65B0;&#x7EA6;&#x675F;&#x7684;&#x5E38;&#x91CF;&#x503C;&#x65F6;&#x4F7F;&#x7528; mas_remakeConstaints&#xFF1B;&#x66F4;&#x65B0;&#x7EA6;&#x675F;&#xFF0C;&#x4F46;&#x662F;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x7EA6;&#x675F;&#x4F1A;&#x88AB;&#x79FB;&#x9664;&#x6389; &#x57FA;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;[subView mas_makeConstraints:^(MASConstraintMaker *make) { make.left.equalTo(superView.mas_left).with.offset(50); make.right.equalTo(superView.mas_right).with.offset(-50); make.top.equalTo(superView.mas_top).with.offset(50); make.height.equalTo(superView).with.offset(-100); }]; &#x5176;&#x4E2D;&#xFF0C;maker&#x7684;&#x5C5E;&#x6027;&#x5305;&#x62EC;&#xFF1A;left&#x3001;top&#x3001;right&#x3001;bottom&#x3001;leading&#x3001;trailing&#x3001;width&#x3001;height&#x3001;centerX&#x3001;centerY&#x3001;baseLine&#x53CA;&#x590D;&#x5408;&#x5C5E;&#x6027;edges&#x3001;size&#x3001;center&#x3002; &#x4E0E;equalTo&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x8FD8;&#x6709;&#xFF1A;lessThanOrEqualTo&#x3001;greaterThanOrEqualTo&#x3002; view&#x7684;&#x5C5E;&#x6027;&#x5982;&#x4E0B;&#xFF1A; MASViewAttribute NSLayoutAttribute view.mas_left NSLayoutAttributeLeft view.mas_right NSLayoutAttributeRight view.mas_top NSLayoutAttributeTop view.mas_bottom NSLayoutAttributeBottom view.mas_leading NSLayoutAttributeLeading view.mas_trailing NSLayoutAttributeTrailing view.mas_width NSLayoutAttributeWidth view.mas_height NSLayoutAttributeHeight view.mas_centerX NSLayoutAttributeCenterX view.mas_centerY NSLayoutAttributeCenterY view.mas_baseline NSLayoutAttributeBaseline &#x5E38;&#x7528;&#x6848;&#x4F8B;//these two constraints are exactly the same make.left.greaterThanOrEqualTo(label); make.left.greaterThanOrEqualTo(label.mas_left); //width &gt;= 200 &amp;&amp; width &lt;= 400 make.width.greaterThanOrEqualTo(@200); make.width.lessThanOrEqualTo(@400) &#x901A;&#x5E38;&#xFF0C;&#x5F53;&#x5E38;&#x91CF;&#x548C;&#x7ED3;&#x6784;&#x4F53;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x201C;mas_&#x201D;&#x524D;&#x7F00;&#x7684;&#x5173;&#x7CFB;&#x65B9;&#x6CD5;&#xFF1A; make.top.mas_equalTo(42); make.height.mas_equalTo(20); make.size.mas_equalTo(CGSizeMake(50, 100)); make.edges.mas_equalTo(UIEdgeInsetsMake(10, 0, 10, 0)); make.left.mas_equalTo(view).mas_offset(UIEdgeInsetsMake(10, 0, 10, 0)); maker&#x590D;&#x5408;&#x5C5E;&#x6027;&#x7684;&#x4F7F;&#x7528;&#x6848;&#x4F8B;&#xFF1A; edges: // make top, left, bottom, right equal view2 make.edges.equalTo(view2); // make top = superview.top + 5, left = superview.left + 10, // bottom = superview.bottom - 15, right = superview.right - 20 make.edges.equalTo(superview).insets(UIEdgeInsetsMake(5, 10, 15, 20)) size: // make width and height greater than or equal to titleLabel make.size.greaterThanOrEqualTo(titleLabel) // make width = superview.width + 100, height = superview.height - 50 make.size.equalTo(superview).sizeOffset(CGSizeMake(100, -50)) center: // make centerX and centerY = button1 make.center.equalTo(button1) // make centerX = superview.centerX - 5, centerY = superview.centerY + 10 make.center.equalTo(superview).centerOffset(CGPointMake(-5, 10)) Masonry&#x4E0B;&#x8F7D;&#x5730;&#x5740;OC&#x7248;&#x672C;&#xFF1A;https://github.com/SnapKit/Masonry Swift&#x7248;&#x672C;&#xFF1A;https://github.com/SnapKit/SnapKit","raw":null,"content":null,"categories":null,"tags":[{"name":"AutoLayout","slug":"AutoLayout","permalink":"https://jianglan-dev.github.io/tags/AutoLayout/"},{"name":"Masonry","slug":"Masonry","permalink":"https://jianglan-dev.github.io/tags/Masonry/"}]},{"title":"Markdown语法指南","slug":null,"date":"2016-06-05T14:41:49.000Z","updated":null,"comments":null,"path":"2016/06/05/Markdown语法指南/","link":null,"permalink":null,"excerpt":null,"keywords":null,"text":"&#x7B80;&#x5355;&#x8BB0;&#x5F55;&#x4E0B;Markdown&#x57FA;&#x7840;&#x8BED;&#x6CD5;&#x3002; &#x6807;&#x9898;# &#x4E00;&#x7EA7;&#x6807;&#x9898; ## &#x4E8C;&#x7EA7;&#x6807;&#x9898; ### &#x4E09;&#x7EA7;&#x6807;&#x9898; #### &#x56DB;&#x7EA7;&#x6807;&#x9898; ##### &#x4E94;&#x7EA7;&#x6807;&#x9898; ###### &#x516D;&#x7EA7;&#x6807;&#x9898; &#x5217;&#x8868;&#x65E0;&#x5E8F;&#x5217;&#x8868;&#xFF1A;(&#x661F;&#x53F7;&#x4F1A;&#x88AB;&#x5706;&#x70B9;&#x66FF;&#x4EE3;) * Mac OSX * Windows * Linux * Unix &#x6709;&#x5E8F;&#x5217;&#x8868;&#xFF1A;(&#x6548;&#x679C;&#x4E00;&#x6837;) 1. Mac OSX 2. Windows 3. Linux 4. Unix &#x5F15;&#x7528;&gt; &#x8FD9;&#x662F;&#x4E00;&#x6BB5;&#x5F15;&#x7528;&#x6587;&#x5B57;&#x3002; &#x8FD9;&#x662F;&#x4E00;&#x6BB5;&#x5F15;&#x7528;&#x6587;&#x5B57;&#x3002; &#x63D2;&#x5165;&#x94FE;&#x63A5;[&#x767E;&#x5EA6;&#x4E00;&#x4E0B;](http://www.baidu.com)&#xFF0C;&#x4F60;&#x5C31;&#x77E5;&#x9053;&#x3002; &#x767E;&#x5EA6;&#x4E00;&#x4E0B;&#xFF0C;&#x4F60;&#x5C31;&#x77E5;&#x9053;&#x3002; &#x63D2;&#x5165;&#x56FE;&#x7247;![&#x98CE;&#x666F;](http://img2.imgtn.bdimg.com/it/u=397276370,1341734514&amp;fm=21&amp;gp=0.jpg) &#x659C;&#x4F53;&#x548C;&#x7C97;&#x4F53;&#x6211;&#x662F;*&#x659C;&#x4F53;&#x5B57;*&#xFF0C;&#x6211;&#x662F;**&#x7C97;&#x4F53;&#x5B57;**&#xFF0C;&#x6211;&#x662F;***&#x659C;&#x4F53;&#x5B57;&#x52A0;&#x7C97;***&#x3002; &#x6211;&#x662F;&#x659C;&#x4F53;&#x5B57;&#xFF0C;&#x6211;&#x662F;&#x7C97;&#x4F53;&#x5B57;&#xFF0C;&#x6211;&#x662F;&#x659C;&#x4F53;&#x5B57;&#x52A0;&#x7C97;&#x3002; &#x5206;&#x5272;&#x7EBF;***&#x6216;--- &#x4EE3;&#x7801;&#x5757;&#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;iOS&#x4E2D;&#x4F7F;&#x7528;`NSLog(@&quot;Hello World&quot;)`&#x8F93;&#x51FA;&#x65E5;&#x5FD7;&#x3002; iOS&#x4E2D;&#x4F7F;&#x7528;NSLog(@&quot;Hello World&quot;)&#x8F93;&#x51FA;&#x65E5;&#x5FD7;&#x3002; &#x6BB5;&#x4EE3;&#x7801;&#x5757;&#x4EE3;&#x7801;&#x5757;&#x524D;&#x540E;&#x5404;3&#x4E2A;&#x201D;`&#x201D;&#x3002;&#xFF08;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x663E;&#x793A;&#x95EE;&#x9898;&#xFF0C;&#x4E0B;&#x9762;&#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#x67D0;&#x4E9B;&#x7B26;&#x53F7;&#x7528;&#x5355;&#x5F15;&#x53F7;&#x201D;&#x2018;&#x201C;&#x4EE3;&#x66FF;&#xFF09; ``&apos; &#x4EE3;&#x7801;&#x5757;... ``&apos; 1234567// js to ocJSContext *context = [[JSContext alloc] init];[context evaluateScript:@&quot;var num = 5 + 5&quot;];[context evaluateScript:@&quot;var names = [&apos;Lucy&apos;, &apos;Lance&apos;, &apos;Lily&apos;]&quot;];[context evaluateScript:@&quot;var triple = function(value) {return value * 3}&quot;];JSValue *tripleNum = [context evaluateScript:@&quot;triple(num)&quot;];NSLog(@&quot;triple num = %lf&quot;, tripleNum.toDouble); &#x6587;&#x672C;&#x6BB5;&#x5757;&#x6BCF;&#x884C;&#x524D;&#x9762;&#x52A0;&#x56DB;&#x4E2A;&#x7A7A;&#x683C;&#x6216;&#x8005;&#x4E00;&#x4E2A;tab&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;&#x6BB5;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6BCF;&#x884C;&#x524D;&#x9762;&#x4E0D;&#x4F1A;&#x6709;&#x884C;&#x6570;&#x3002; PHP&#x662F;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x597D;&#x7684;&#x8BED;&#x8A00;&#xFF1B; Java&#x662F;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x597D;&#x7684;&#x8BED;&#x8A00;&#x3002; Objective-C&#x662F;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x597D;&#x7684;&#x8BED;&#x8A00;; &#x8868;&#x683C;A simple table looks like this: First Header | Second Header | Third Header ------------ | ------------- | ------------ Content Cell | Content Cell | Content Cell Content Cell | Content Cell | Content Cell If you wish, you can add a leading and tailing pipe to each line of the table: | First Header | Second Header | Third Header | | ------------ | ------------- | ------------ | | Content Cell | Content Cell | Content Cell | | Content Cell | Content Cell | Content Cell | Specify alignement for each column by adding colons to separator lines: First Header | Second Header | Third Header :----------- | :-----------: | -----------: Left | Center | Right Left | Center | Right &#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; First Header Second Header Third Header Left Center Right Left Center Right","raw":null,"content":null,"categories":null,"tags":[{"name":"Markdown","slug":"Markdown","permalink":"https://jianglan-dev.github.io/tags/Markdown/"}]}]